@page
@model InvWeb.Pages.Masterfiles.ItemMaster.Categories.DetailsModel

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div>
    <h4>Category</h4>

    <div>
        <a asp-page="./Edit" asp-route-id="@Model.InvCategory.Id">Edit</a> |
        <a asp-page="./Index">Back to List</a>
    </div>

    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.InvCategory.Code)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.InvCategory.Code)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.InvCategory.Description)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.InvCategory.Description)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.InvCategory.Remarks)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.InvCategory.Remarks)
        </dd>
        <dt class="col-sm-2">
           Specification
        </dt >
        <dd class="col-sm-10">
            @foreach (var spec in Model.InvCategory.InvCategorySpecDefs)
            {
                var specdetails = spec.InvItemSysDefinedSpec;

                <span> (@specdetails.SpecCode) @specdetails.SpecName - @specdetails.SpecGroup </span>
                <br />
            }
        </dd>

    </dl>
</div>


<hr />
<h3> Custom Category Specification </h3>

<a asp-page="./CustomSpec/Add" asp-route-id="@Model.InvCategory.Id" class="btn btn-primary"> Add Specification</a>
 <table class="table">
     <tr>
         <th>
             Custom Spec
        </th>
        <th>
            Remarks
        </th>
        <th>
            Order
        </th>
         <th> 

         </th>
     </tr>
    @foreach(var spec in Model.InvCategory.InvCatCustomSpecs.OrderBy(c=>c.Order)){

        var customSpecDetails = spec.InvCustomSpec;
        <tr>
            <td>
                <span> @customSpecDetails.SpecName : </span>
                <span> @customSpecDetails.Measurement </span>
            </td>
            <td>
                 <span> @spec.Remarks </span>
            </td>
            <td>
                 <span> @spec.Order </span>
            </td>
            <td>

                <a asp-page="./CustomSpec/Delete" asp-route-id="@spec.Id" > Edit </a> | 
                <a asp-page="./CustomSpec/Edit" asp-route-id="@spec.Id"> Delete </a>
            </td>
        </tr>
    }
 </table>



<hr />

<h3> Defined Specification </h3>

<div class="btn-group">

    <a asp-page="./SysDefinedSpec/Add" asp-route-id="@Model.InvCategory.Id" class="btn btn-primary">
        Add Defined Specification
    </a>
</div>
<table class="table">
    <tr>
        <th>
            Name
        </th>
        <th>
            Code
        </th>
        <th>
            Group
        </th>
        <th>

        </th>
    </tr> 
    @foreach (var spec in Model.InvCategory.InvCategorySpecDefs)
    {

        var defSpecDetails = spec.InvItemSysDefinedSpec;
        <tr>
            <td>
                @defSpecDetails.SpecName 
            </td>
            <td>
                @defSpecDetails.SpecCode
            </td>
            <td>
                @defSpecDetails.SpecGroup
            </td>
            <td>
                <a asp-page="./SysDefinedSpec/Delete" asp-route-id="@spec.Id"> Edit </a> |
                <a asp-page="./SysDefinedSpec/Edit" asp-route-id="@spec.Id"> Delete </a>
            </td>
        </tr>
    }
</table>