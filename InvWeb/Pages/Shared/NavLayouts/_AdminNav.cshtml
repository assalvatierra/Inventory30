@using Microsoft.AspNetCore.Http;
@using Newtonsoft.Json;
@{
    int[] storeIds = null;
    var storeID = Context.Session.GetInt32("_UsersStoreId");

            //if (String.IsNullOrEmpty(storeID))
            //{
            //    storeIds = JsonConvert.DeserializeObject<int[]>(storeID);
            //}
}
<ul class="list-unstyled components">
    <li>
        <a href="/" id="sidenav-Home">Home</a>
    </li>
    <li>
        <a href="/Masterfiles/Stores" id="sidenav-Stores">Stores</a>
    </li>


    <li class="dropdown-btn">
        <a href="#" id="sidenav-Items">
            Items Masterfile
            <i class="float-right dropdown-toggle"></i>
        </a>
    </li>

    <li class="dropdown-container">
        <a href="/Masterfiles/ItemMaster">List</a>
        <a href="/Masterfiles/ItemClassification">Classifications</a>
        <a href="/Masterfiles/ItemUoms">Units</a>
    </li>

    <li>
        <a href="/Masterfiles/Supplier">Suppliers</a>
    </li>

    <li>
        <a href="/PurchaseOrders/InvPOHdrs">Purchase Orders</a>
    </li>

    <li>
        <a href="/Masterfiles/Accounts/Main" id="sidenav-Accounts">Accounts</a>
    </li>


    <li>
        <a href="/Masterfiles/Reports" id="sidenav-Reports">Reports</a>
    </li>

    <li>
        <a href="/Masterfiles/ItemSearch/Search">Item Search</a>
    </li>
    <li>
        <hr />
    </li>

    <li>
        <p> My Store </p>
    </li>

    @if (storeID != null) { 
    
    <li class="dropdown-btn">
        <a href="#" id="sidenav-Items">
            MyStore
            <i class="float-right dropdown-toggle"></i>
        </a>
    </li>

    <li class="dropdown-container">
        <a href="/Stores/Main/@storeID">Go to MyStore</a>
        <a href="/Stores/Receiving/@storeID">Receiving</a>
        <a href="/Stores/Releasing/@storeID">Releasing</a>
        <a href="/Stores/PurchaseRequest/@storeID">Purchase Request</a>
        <a href="/Stores/Reports/@storeID">  Inventory Reports</a>
    </li>
    }

    @*@if (storeIds != null)
        {
            <li class="dropdown-btn">
                <a href="#" id="sidenav-Items">
                    MyStore
                    <i class="float-right dropdown-toggle"></i>
                </a>
            </li>
            @for (var i = 0; i <= storeIds.Count(); i++)
            {
                <li class="dropdown-container">
                    <a href="/Stores/Main/@storeIds[i]">Go to MyStore</a>
                    <a href="/Stores/Receiving/@storeIds[i]">Receiving</a>
                    <a href="/Stores/Releasing/@storeIds[i]">Releasing</a>
                    <a href="/Stores/PurchaseRequest/@storeIds[i]">Purchase Request</a>
                    <a href="/Stores/Reports/@storeIds[i]">  Inventory Reports</a>
                </li>
            }
        }*@

</ul>